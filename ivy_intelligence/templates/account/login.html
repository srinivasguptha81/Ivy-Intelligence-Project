<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login â€” Ivy Intelligence</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            margin: 0;
            display: flex;
            background: #f4f7fb;
        }

        /* Left panel */
        .left-panel {
            width: 48%;
            background: linear-gradient(145deg, #0f2545 0%, #1a3c6e 50%, #2e6dad 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 3rem;
            position: relative;
            overflow: hidden;
        }
        .left-panel::before {
            content: '';
            position: absolute;
            width: 400px; height: 400px;
            border-radius: 50%;
            background: rgba(255,255,255,.04);
            top: -100px; left: -100px;
        }
        .left-panel::after {
            content: '';
            position: absolute;
            width: 300px; height: 300px;
            border-radius: 50%;
            background: rgba(255,255,255,.04);
            bottom: -80px; right: -80px;
        }
        .left-content { position: relative; z-index: 1; text-align: center; color: white; max-width: 360px; }
        .brand-logo {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: .5rem;
        }
        .brand-logo span { color: #f0a500; }
        .left-content h2 { font-size: 1.9rem; font-weight: 700; margin-bottom: 1rem; }
        .left-content p { color: rgba(255,255,255,.75); font-size: .95rem; line-height: 1.7; margin-bottom: 2rem; }
        .feature-list { list-style: none; padding: 0; text-align: left; }
        .feature-list li {
            display: flex; align-items: center; gap: .75rem;
            color: rgba(255,255,255,.85); font-size: .9rem;
            margin-bottom: .85rem;
        }
        .feature-list li i { color: #f0a500; font-size: 1rem; flex-shrink: 0; }
        .university-badges { display: flex; flex-wrap: wrap; gap: .5rem; justify-content: center; margin-top: 2rem; }
        .uni-badge {
            background: rgba(255,255,255,.12);
            border: 1px solid rgba(255,255,255,.2);
            color: rgba(255,255,255,.9);
            padding: .3rem .85rem;
            border-radius: 20px;
            font-size: .78rem;
            font-weight: 500;
        }

        /* Right panel */
        .right-panel {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        .login-card {
            width: 100%;
            max-width: 420px;
        }
        .login-card h3 {
            font-size: 1.6rem;
            font-weight: 700;
            color: #1a3c6e;
            margin-bottom: .35rem;
        }
        .login-card .subtitle { color: #6b7280; font-size: .9rem; margin-bottom: 2rem; }

        .form-label { font-weight: 600; font-size: .85rem; color: #374151; margin-bottom: .4rem; }
        .form-control {
            border: 1.5px solid #e5e7eb;
            border-radius: 10px;
            padding: .75rem 1rem;
            font-size: .95rem;
            transition: border-color .2s, box-shadow .2s;
        }
        .form-control:focus {
            border-color: #1a3c6e;
            box-shadow: 0 0 0 3px rgba(26,60,110,.1);
            outline: none;
        }
        .input-group .form-control { border-right: none; border-radius: 10px 0 0 10px; }
        .input-group .btn-outline-secondary {
            border: 1.5px solid #e5e7eb;
            border-left: none;
            border-radius: 0 10px 10px 0;
            background: white;
            color: #9ca3af;
        }
        .input-group .btn-outline-secondary:hover { background: #f9fafb; color: #374151; }

        .btn-login {
            background: linear-gradient(135deg, #1a3c6e, #2e6dad);
            border: none;
            border-radius: 10px;
            padding: .8rem;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            width: 100%;
            cursor: pointer;
            transition: transform .15s, box-shadow .15s;
            margin-top: .5rem;
        }
        .btn-login:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(26,60,110,.3);
        }
        .divider {
            display: flex; align-items: center; gap: 1rem;
            color: #9ca3af; font-size: .85rem; margin: 1.25rem 0;
        }
        .divider::before, .divider::after {
            content: ''; flex: 1; height: 1px; background: #e5e7eb;
        }
        .btn-google {
            border: 1.5px solid #e5e7eb;
            border-radius: 10px;
            padding: .75rem;
            font-size: .9rem;
            font-weight: 500;
            color: #374151;
            background: white;
            width: 100%;
            display: flex; align-items: center; justify-content: center; gap: .5rem;
            cursor: pointer;
            transition: background .15s, border-color .15s;
        }
        .btn-google:hover { background: #f9fafb; border-color: #d1d5db; }

        .signup-link { text-align: center; margin-top: 1.5rem; font-size: .9rem; color: #6b7280; }
        .signup-link a { color: #1a3c6e; font-weight: 600; text-decoration: none; }
        .signup-link a:hover { text-decoration: underline; }

        .alert-custom {
            background: #fef2f2; border: 1px solid #fecaca;
            color: #991b1b; border-radius: 10px;
            padding: .75rem 1rem; font-size: .88rem; margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .left-panel { display: none; }
            .right-panel { padding: 1.5rem; }
        }
    </style>
</head>
<body>

<!-- Left decorative panel -->
<div class="left-panel">
    <div class="left-content">
        <div class="brand-logo">
            <i class="bi bi-mortarboard-fill"></i>
            Ivy<span>Intelligence</span>
        </div>
        <h2>Your Gateway to Ivy League Opportunities</h2>
        <p>AI-powered real-time tracking of internships, hackathons, research programs, and scholarships from the world's top universities.</p>
        <ul class="feature-list">
            <li><i class="bi bi-check-circle-fill"></i> Real-time opportunity monitoring</li>
            <li><i class="bi bi-check-circle-fill"></i> AI-based domain classification</li>
            <li><i class="bi bi-check-circle-fill"></i> Personalized opportunity feed</li>
            <li><i class="bi bi-check-circle-fill"></i> Auto-application system</li>
            <li><i class="bi bi-check-circle-fill"></i> InCoScore academic ranking</li>
            <li><i class="bi bi-check-circle-fill"></i> Academic community & live chat</li>
        </ul>
        <div class="university-badges">
            <span class="uni-badge">Harvard</span>
            <span class="uni-badge">MIT</span>
            <span class="uni-badge">Yale</span>
            <span class="uni-badge">Stanford</span>
            <span class="uni-badge">Princeton</span>
            <span class="uni-badge">Columbia</span>
        </div>
    </div>
</div>

<!-- Right login panel -->
<div class="right-panel">
    <div class="login-card">
        <h3>Welcome back ðŸ‘‹</h3>
        <p class="subtitle">Log in to access your personalized opportunity dashboard</p>

        {% if form.errors %}
        <div class="alert-custom">
            <i class="bi bi-exclamation-circle me-2"></i>
            Invalid username/email or password. Please try again.
        </div>
        {% endif %}

        {% if messages %}
        {% for message in messages %}
        <div class="alert-custom" style="background:#f0fdf4; border-color:#bbf7d0; color:#166534;">
            <i class="bi bi-check-circle me-2"></i>{{ message }}
        </div>
        {% endfor %}
        {% endif %}

        <form method="POST" action="{% url 'account_login' %}">
            {% csrf_token %}
            <input type="hidden" name="next" value="{{ request.GET.next }}">

            <div class="mb-3">
                <label class="form-label">Username or Email</label>
                <input type="text" name="login" class="form-control" placeholder="Enter your username or email"
                       value="{{ form.login.value|default:'' }}" autofocus required>
            </div>

            <div class="mb-3">
                <div class="d-flex justify-content-between align-items-center mb-1">
                    <label class="form-label mb-0">Password</label>
                    <a href="{% url 'account_reset_password' %}" style="font-size:.82rem; color:#1a3c6e; text-decoration:none;">Forgot password?</a>
                </div>
                <div class="input-group">
                    <input type="password" name="password" class="form-control" placeholder="Enter your password" id="passwordField" required>
                    <button type="button" class="btn btn-outline-secondary" onclick="togglePassword()">
                        <i class="bi bi-eye" id="eyeIcon"></i>
                    </button>
                </div>
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" name="remember" id="rememberMe">
                <label class="form-check-label" for="rememberMe" style="font-size:.88rem; color:#6b7280;">Remember me for 30 days</label>
            </div>

            <button type="submit" class="btn-login">
                <i class="bi bi-box-arrow-in-right me-2"></i>Login to Dashboard
            </button>
        </form>

        <div class="divider">or</div>

        <div class="signup-link" style="margin-top:0;">
            Don't have an account?
            <a href="{% url 'account_signup' %}">Sign up for free â†’</a>
        </div>

        <div class="signup-link mt-3" style="font-size:.8rem;">
            <a href="{% url 'home' %}" style="color:#9ca3af; font-weight:400;">
                <i class="bi bi-arrow-left me-1"></i>Back to home
            </a>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
function togglePassword() {
    const field = document.getElementById('passwordField');
    const icon = document.getElementById('eyeIcon');
    if (field.type === 'password') {
        field.type = 'text';
        icon.className = 'bi bi-eye-slash';
    } else {
        field.type = 'password';
        icon.className = 'bi bi-eye';
    }
}
</script>
</body>
</html>
